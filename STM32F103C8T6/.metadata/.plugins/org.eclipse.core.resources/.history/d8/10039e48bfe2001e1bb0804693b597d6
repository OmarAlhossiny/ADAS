/**
 ******************************************************************************
 * @file           : main.c
 * @author         : Omar_Alhossiny
 * @brief          : Main program body
 ******************************************************************************
**/

#include <main.h>

Std_Return_t RET = HAL_OK;

GPIO_Config Config =
{
		.port = PORTA,
		.pin = PIN15,
		.logic = GPIO_LOW,
		.mode = GPIO_MODE_OUTPUT_PUSH_PULL_SPEED_50MHZ
};
GPIO_Config Config1 =
{
		.port = PORTA,
		.pin = PIN9,
		.logic = GPIO_LOW,
		.mode = GPIO_MODE_OUTPUT_PUSH_PULL_SPEED_50MHZ
};
GPIO_Config Config2=
{
		.port = PORTB,
		.pin = PIN3,
		.logic = GPIO_LOW,
		.mode = GPIO_MODE_OUTPUT_PUSH_PULL_SPEED_50MHZ
};
GPIO_Config Config3=
{
		.port = PORTB,
		.pin = PIN4,
		.logic = GPIO_LOW,
		.mode = GPIO_MODE_OUTPUT_PUSH_PULL_SPEED_50MHZ
};
GPIO_Config Config4=
{
		.port = PORTA,
		.pin = PIN5,
		.logic = GPIO_LOW,
		.mode = GPIO_MODE_OUTPUT_PUSH_PULL_SPEED_50MHZ
};
GPIO_Config Config5=
{
		.port = PORTA,
		.pin = PIN6,
		.logic = GPIO_LOW,
		.mode = GPIO_MODE_OUTPUT_PUSH_PULL_SPEED_50MHZ
};
GPIO_Config Config6=
{
		.port = PORTA,
		.pin = PIN7,
		.logic = GPIO_LOW,
		.mode = GPIO_MODE_OUTPUT_PUSH_PULL_SPEED_50MHZ
};

RCC_CFGR config =
{
	.SW = RCC_SYSTEM_CLOCK_SWITCH_PLL,
	.HPRE = RCC_AHB_PRESCALER_DIV1,
	.PPRE1 = RCC_APB_LOW_SPEED_PRESCALER_APB1_DIV4,
	.PPRE2 = RCC_APB_HIGH_SPEED_PRESCALER_APB2_DIV1,
	.PLLSRC = RCC_PLL_SOURCE_HSI,
	.PLLXTPRE = RCC_HSE_NOT_DIVIDED,
	.PLLMUL = RCC_PLL_MULTIPLICATION_FACTOR_16
};

int main(void)
{
    RET = RCC_SysClock_Init(&config);
	RET = GPIO_Pin_Direction_Initialize(&Config);
	RET = GPIO_Pin_Direction_Initialize(&Config1);
	RET = GPIO_Pin_Direction_Initialize(&Config2);
	RET = GPIO_Pin_Direction_Initialize(&Config3);
	RET = GPIO_Pin_Direction_Initialize(&Config4);
	RET = GPIO_Pin_Direction_Initialize(&Config5);
	RET = GPIO_Pin_Direction_Initialize(&Config6);


	while(1)
	{
		RET = GPIO_Pin_Write_logic(&Config,GPIO_HIGH);
		RET = GPIO_Pin_Write_logic(&Config1,GPIO_HIGH);
		RET = GPIO_Pin_Write_logic(&Config2,GPIO_HIGH);
		RET = GPIO_Pin_Write_logic(&Config3,GPIO_HIGH);
		RET = GPIO_Pin_Write_logic(&Config4,GPIO_HIGH);
		RET = GPIO_Pin_Write_logic(&Config5,GPIO_HIGH);
		RET = GPIO_Pin_Write_logic(&Config6,GPIO_HIGH);
		delay(100);
		RET = GPIO_Pin_Write_logic(&Config,GPIO_LOW);
		RET = GPIO_Pin_Write_logic(&Config1,GPIO_LOW);
		RET = GPIO_Pin_Write_logic(&Config2,GPIO_LOW);
		RET = GPIO_Pin_Write_logic(&Config3,GPIO_LOW);
		RET = GPIO_Pin_Write_logic(&Config4,GPIO_LOW);
		RET = GPIO_Pin_Write_logic(&Config5,GPIO_LOW);
		RET = GPIO_Pin_Write_logic(&Config6,GPIO_LOW);
		delay(100);
	}
	return 0;
}


